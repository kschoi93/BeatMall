<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.beetmall.sshj.seller.dao.IntroDAO">
	<select id="selectInfo" resultType="com.beetmall.sshj.seller.vo.IntroVO">
		select productname, c.userid userid, storenum, storename, sellername, 
		sellerreginum, sellerregiimg, regiapproval, regiapprovaldate, storezipcode, storeaddr,
		storedetailaddr, storeemail, bank, bankname, bankaccount, farmname, farmintro, farmprofile, 
		farmvisitor, c.productnum, saleselect, productprice, thumbimg
		from (select b.storenum, farmname,farmintro, farmprofile, farmvisitor, productnum, userid, 
		storename, sellername, sellerreginum, sellerregiimg, regiapproval, regiapprovaldate, 
		storezipcode, storeaddr, storedetailaddr, storeemail, bank, bankname, bankaccount 
		from (select * from seller) a join farm b on a.storenum = b.storenum) c 
		join product d on c.productnum = d.productnum where c.userid='${userid}'
	</select>
	<select id="selectFavorite" resultType="int">
		select sum(storenum) storenum from favorite where storenum=(select storenum from seller where userid='${userid}')
	</select>
</mapper>